<!doctype html><html lang=fr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Configurer FRAGO - Documentation</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Frago est un outil pour la génération de rapports de synthèse pour le suivi et l’amélioration de l’accessibilité web."><meta property="og:title" content="Configurer FRAGO"><meta property="og:type" content="website"><meta property="og:url" content="https://disic.github.io/frago/docs/demarrer/configurer-frago/"><meta property="og:image" content="https://disic.github.io/frago/twittercard.png"><meta property="og:description" content="Frago est un outil pour la génération de rapports de synthèse pour le suivi et l’amélioration de l’accessibilité web."><meta name=twitter:card content="summary"><meta name=twitter:site content="@bertrandkeller"><meta name=twitter:creator content="@bertrandkeller"><link rel=icon href=https://disic.github.io/frago/favicon-32x32.png><link rel=stylesheet href=/frago/css/style.min.99e589fa92bfac5c0f4c10e095ecbd04ae1259c1358e62fc1c526096fb7ab2d3.css><link rel=preload href=https://disic.github.io/frago/css/fonts.css as=style><link rel=stylesheet href=https://disic.github.io/frago/css/fonts.css media=print onload='this.media="all"'><noscript><link rel=stylesheet href=https://disic.github.io/frago/css/fonts.css media=screen></noscript></head><body class='page page-default-single'><div id=skip><a href=#main-menu>Navigation principale</a>
<a href=#content>Contenu principal</a>
<a href=#secondary-menu>Navigation secondaire</a></div><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-accueil><a href=/frago/><span>Accueil</span></a></li><li class=menu-item-blog><a href=/frago/blog/><span>Blog</span></a></li><li class=menu-item-docs><a href=/frago/docs/><span>Docs</span></a></li><li class=menu-item-exemple><a href=/frago/audits/><span>Exemple</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div class=logo><a href=https://disic.github.io/frago/><picture><source srcset=https://disic.github.io/frago//images/logodark.svg media="(prefers-color-scheme: dark)"><img src=https://disic.github.io/frago//images/logo.svg width=80 role=img alt="Logo Documentation"></picture></a></div><div class=logo-mobile><a href=https://disic.github.io/frago/><picture><source srcset=https://disic.github.io/frago//images/logodark.svg media="(prefers-color-scheme: dark)"><img src=https://disic.github.io/frago//images/logo.svg width=80 role=img alt="Logo Documentation"></picture></a></div><nav id=main-menu class=main-menu aria-labelledby="Navigation principale"><ul><li class=menu-item-accueil><a href=/frago/><span>Accueil</span></a></li><li class=menu-item-blog><a href=/frago/blog/><span>Blog</span></a></li><li class=menu-item-docs><a href=/frago/docs/><span>Docs</span></a></li><li class=menu-item-exemple><a href=/frago/audits/><span>Exemple</span></a></li></ul></nav><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><main class="container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><aside class="col-12 col-md-3 mb-3"><div class=sidebar><nav id=secondary-menu class=docs-menu aria-labelledby="Navigation secondaire"><p class="h4 bold m-0 mt-2">Démarrer</p><ul><li><a href=https://disic.github.io/frago/docs/demarrer/installer-hugo/>Installer Hugo</a></li><li><a href=https://disic.github.io/frago/docs/demarrer/installer-hugo-windows/>Installer Hugo sur windows</a></li><li class=active><a href=https://disic.github.io/frago/docs/demarrer/configurer-frago/>Configurer FRAGO</a></li><li><a href=https://disic.github.io/frago/docs/demarrer/audit-demarrer/>Démarrer un audit d’accessibilité</a></li></ul><p class="h4 bold m-0 mt-2">Documentation</p><ul></ul><p class="h4 bold m-0 mt-2">Renseigner</p><ul><li><a href=https://disic.github.io/frago/docs/renseigner/audit-renseigner/>Renseigner un audit d’accessibilité</a></li><li><a href=https://disic.github.io/frago/docs/renseigner/recommandations-renseigner/>Renseigner des recommandations</a></li><li><a href=https://disic.github.io/frago/docs/renseigner/performance-renseigner/>Renseigner un audit de performance</a></li><li><a href=https://disic.github.io/frago/docs/renseigner/plans/>Renseigner un plan d’actions</a></li><li><a href=https://disic.github.io/frago/docs/renseigner/schemas/>Renseigner un schéma pluriannuel</a></li></ul><p class="h4 bold m-0 mt-2">À propos</p><ul><li><a href=https://disic.github.io/frago/docs/apropos/auteurs-credits/>Auteurs & Crédits</a></li><li><a href=https://disic.github.io/frago/docs/apropos/licenses/>Licenses</a></li></ul><p class="h4 bold m-0 mt-2">Configuration avancée</p><ul><li><a href=https://disic.github.io/frago/docs/avancee/arborescence/>Arborescence</a></li><li><a href=https://disic.github.io/frago/docs/avancee/complementaire/>Contenus complémentaires</a></li><li><a href=https://disic.github.io/frago/docs/avancee/personnalisation/>Personnalisation du thème</a></li></ul><p class="h4 bold m-0 mt-2">Naviguer</p><ul><li><a href=https://disic.github.io/frago/docs/naviguer/contenus-naviguer/>Naviguer dans les contenus</a></li><li><a href=https://disic.github.io/frago/docs/naviguer/api/>API</a></li></ul></nav></div></aside><article id=content class="col-12 col-md-9"><h1 class=title-main>Configurer FRAGO</h1><div class=content><p>Comprendre comment configurer FRAGO pour la génération de rapports de synthèse pour le suivi et l’amélioration de l’accessibilité web.</p><h2 id=présentation><a class=anchor href=#présentation title='"Présentation"'><svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Présentation</h2><p>Le thème Frago a pour objectif d’aider à la génération de synthèses pour l’amélioration des démarches en ligne du gouvernement français..</p><blockquote><p>Attention, goHugo est très sensible à l’architecture des contenus. Si les contenus sont absents ou présentent des erreurs le site peut planter. Si l’architecture du thème change, de même, il n’est plus possible d’utiliser les dernières versions du thème (sans modifier l’architecture de contenu).</p></blockquote><blockquote><p>Un maximum d’indications ont été ajoutés au code pour s’afficher dans la console (visible dans un terminal), si un cas mérite d’être signalé aller sur la page
<a href=https://github.com/DISIC/frago/issues target=_blank rel=noreferrer et rel=noopener>https://github.com/DISIC/frago/issues</a>
.</p></blockquote><h2 id=démarrage-configuration-simplifiée><a class=anchor href=#démarrage-configuration-simplifiée title='"Démarrage (Configuration simplifiée)"'><svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a>Démarrage (Configuration simplifiée)</h2><h3 id=architecture-de-contenu>Architecture de contenu</h3><p>Exemple d&rsquo;architecture d&rsquo;un projet avec <code>goHugo</code>, voir :
<a href=https://github.com/DISIC/frago/tree/master/exampleSite target=_blank rel=noreferrer et rel=noopener>L&rsquo;exemple d’architecture</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>├── config.toml
</span></span><span class=line><span class=cl>└── content
</span></span><span class=line><span class=cl>    └── audits
</span></span><span class=line><span class=cl>         ├── projet1
</span></span><span class=line><span class=cl>         │     ├── index.md // Ajouter un entête avec le titre de la démarche
</span></span><span class=line><span class=cl>         │     └── accessibility
</span></span><span class=line><span class=cl>         │          ├── 2020-10-15.csv
</span></span><span class=line><span class=cl>         │          ├── 2020-11-15.csv
</span></span><span class=line><span class=cl>         │          └── context.yml // Déclarer le contexte de chaque audit
</span></span><span class=line><span class=cl>         └── projet2
</span></span><span class=line><span class=cl>                ├── index.md // Ajouter un entête avec le titre de la démarche
</span></span><span class=line><span class=cl>                └── accessibility
</span></span><span class=line><span class=cl>                    ├── 2020-10-15.csv
</span></span><span class=line><span class=cl>                    ├── 2020-10-15.csv
</span></span><span class=line><span class=cl>                    └── context.yml // Déclarer le contexte de chaque audit
</span></span></code></pre></div><p>Récupérer un exemple de structure de contenu :
<a href=https://github.com/DISIC/frago/tree/content target=_blank rel=noreferrer et rel=noopener>https://github.com/DISIC/frago/tree/content</a>
/</p><h3 id=installer-le-thème>Installer le thème</h3><h4 id=télécharger-le-thème-pour-un-premier-essai>Télécharger le thème (pour un premier essai)</h4><p>Télécharger le thème sur votre dépôt dans <code>themes</code>: <code>themes/frago</code>.</p><p>Lien de la dernière version du thème au format <code>.zip</code> :
<a href=https://github.com/DISIC/frago/archive/refs/heads/master.zip target=_blank rel=noreferrer et rel=noopener>https://github.com/DISIC/frago/archive/refs/heads/master.zip</a>
.</p><p><strong>Note :</strong> Si vous le téléchargez, il ne sera pas synchronisé avec le dépôt GitHub, il faudra le mettre à jour à la main. Pour le mettre à jour, supprimer, puis recréer le thème déjà initialement présent.</p><h4 id=appeler-le-dépôt-du-thème-hugo>Appeler le dépôt du thème Hugo</h4><p>Option pour la synchronisation et mise à jour « automatiques ».</p><p><strong>Créer un répertoire themes</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir themes // unix
</span></span></code></pre></div><p><strong>Accéder au répertoire themes</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> themes
</span></span></code></pre></div><p><strong>Cloner le thème</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/DISIC/frago.git/
</span></span></code></pre></div><p>Le thème est présent dans le répertoire <code>themes/frago</code>. Vous pouvez le synchroniser avec <code>github</code> comme n&rsquo;importe quel dépôt <code>.git</code>.</p><h3 id=configuration>Configuration</h3><h4 id=ajouter-le-fichier--configtoml>Ajouter le fichier : <code>config.toml</code></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>baseURL</span> <span class=p>=</span> <span class=s2>&#34;/&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Mon administration&#34;</span> <span class=c># Ce qui s&#39;affiche sur le site.</span>
</span></span><span class=line><span class=cl><span class=nx>theme</span> <span class=p>=</span> <span class=s2>&#34;frago&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># Utilisés dans les documents légaux</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>organisation</span> <span class=p>=</span> <span class=s2>&#34;Le nom complet de mon administration&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>contacts</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>email</span> <span class=p>=</span> <span class=s2>&#34;referent-accessibilite@douane.finances.gouv.fr&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>address</span> <span class=p>=</span> <span class=s2>&#34;11, rue des deux Communes, 93558 Montreuil, cedex FRANCE&#34;</span>
</span></span></code></pre></div><h3 id=installation-et-configuration-avec-les-modules-gohugo>Installation et configuration (avec les Modules goHugo)</h3><h4 id=appeler-le-thème-hugo-pour-synchronisation-et-mise-à-jour-automatiques-avec-le-système-de-module-go>Appeler le thème Hugo pour synchronisation et mise à jour automatiques (avec le système de module <code>Go</code>)</h4><p>⚠️ Le langage Go doit être installé sur le système. Installé sur MacOS/Unix ou Linux, mais difficile à installer sur Windows sans les droits administrateurs.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Mon administration&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>module</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>imports</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span> <span class=p>=</span> <span class=s2>&#34;github.com/disic/frago&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># Utilisés dans les documents légaux</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>organisation</span> <span class=p>=</span> <span class=s2>&#34;Le nom complet de mon administration&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>contacts</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>email</span> <span class=p>=</span> <span class=s2>&#34;referent-accessibilite@douane.finances.gouv.fr&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>address</span> <span class=p>=</span> <span class=s2>&#34;11, rue des deux Communes, 93558 Montreuil, cedex FRANCE&#34;</span>
</span></span></code></pre></div><h5 id=créer-le-fichier-gomod-commande-dans-le-terminal>Créer le fichier <code>go.mod</code> (commande dans le terminal)</h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo mod init github.com/organisme/nomdepotgit
</span></span></code></pre></div><h5 id=créer-le-fichier-gosum--commande-dans-le-terminal>Créer le fichier <code>go.sum</code> (commande dans le terminal)</h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo mod get github.com/disic/frago
</span></span></code></pre></div><h5 id=mettre-à-jour-le-thème-le-fichier-gosum--commande-dans-le-terminal>Mettre à jour le thème le fichier <code>go.sum</code> (commande dans le terminal)</h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo mod get -u
</span></span></code></pre></div><h3 id=génération-du-site-mise-en-ligne>Génération du site (mise en ligne)</h3><p>Ligne de commande pour lancer le serveur en local sur votre machine</p><p><strong>Serveur local : mode auditeur</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo serve
</span></span></code></pre></div><p><strong>Serveur local : mode synthèse (pour tester en local l&rsquo;environnement de production)</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>HUGO_ENV</span><span class=o>=</span><span class=s2>&#34;production&#34;</span> hugo serve --buildFuture --gc --minify
</span></span></code></pre></div><p><strong>Site généré : mode synthèse</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>HUGO_ENV</span><span class=o>=</span><span class=s2>&#34;production&#34;</span> hugo --buildFuture --gc --minify --cleanDestinationDir
</span></span></code></pre></div><p><strong>Site généré : mode portail (à venir)</strong>
HUGO_ENV=&ldquo;portal&rdquo; hugo &ndash;gc &ndash;minify &ndash;cleanDestinationDir</p><ul><li><code>HUGO_ENV="production"</code> lance l’environnement de production (sans les outils d&rsquo;aide à l’audit, peut être lancé avec le mode serve).</li><li><code>--buildFuture</code> Publier des éléments avec une date future. Ex:
<a href=#phases>phase</a>
(optionnel) ou plan d’actions.</li><li><code>--gc</code> met à jour le cache de goHugo.</li><li><code>--cleanDestinationDir</code> nettoie le répertoire de génération du code (au cas où du code d’une précédente génération serait encore présent).</li><li><code>--minify</code> permet ¨de compresser le code <code>HTML</code> en ligne.</li></ul></div></div></article></div></main></div><script type=text/javascript src=/frago/js/scripts.min.302a6fc365d5139fb98cf60bdb8f715d96257ea189161d36c190ccfa8182e569.js></script></body></html>