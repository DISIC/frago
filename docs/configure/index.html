<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Configuration - Documentation</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=favicon-32x32.png><link rel=stylesheet href=/css/style.min.a95c3b307ac95aa1da1a3d1e5fc0e83ee54c98b5818327f664cddbedc09e374d.css><link rel=preload href=/css/fonts.css as=style><link rel=stylesheet href=/css/fonts.css media=print onload='this.media="all"'><noscript><link rel=stylesheet href=/css/fonts.css media=screen></noscript></head><body class="page page-default-single"><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-accueil><a href=/><span>Accueil</span></a></li><li class=menu-item-docs><a href=/docs/><span>Docs</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div class=logo><a href><img alt=Logo src=/images/logo.svg></a></div><div class=logo-mobile><a href><img alt=Logo src=/images/logo-mobile.svg></a></div><div id=main-menu class=main-menu><ul><li class=menu-item-accueil><a href=/><span>Accueil</span></a></li><li class=menu-item-docs><a href=/docs/><span>Docs</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><div class="col-12 col-md-3 mb-3"><div class=sidebar><div class=docs-menu><h4>Docs</h4><ul><li><a href=/docs/install-hugo/>Install Hugo</a></li><li class=active><a href=/docs/configure/>Configuration</a></li></ul></div></div></div><div class="col-12 col-md-9"><h1 class=title>Configuration</h1><div class=content><h1 id=génération-de-rapports-de-synthèse-pour-le-suivi-et-lamélioration-de-laccessibilité-web>Génération de rapports de synthèse pour le suivi et l’amélioration de l’accessibilité web.</h1><blockquote><p>FRAGO : French governmental Reports for Accessibility compliance with goHugo</p></blockquote><hr><h2 id=présentation>Présentation</h2><p>Le thème Frago a pour objectif d’aider à la génération de synthèses pour l’amélioration des démarches en ligne du gouvernement français..</p><blockquote><p>Attention, goHugo est très sensible à l’architecture des contenus. Si les contenus sont absents ou présentent des erreurs le site peut planter. Si l’architecture du thème change, de même, il n’est plus possible d’utiliser les dernières versions du thème (sans modifier l’architecture de contenu).</p></blockquote><h2 id=démarrage-configuration-simplifiée>Démarrage (Configuration simplifiée)</h2><h3 id=architecture-de-contenu>Architecture de contenu</h3><p>Exemple d&rsquo;architecture d&rsquo;un projet avec <code>goHugo</code>, voir : <a href=/exampleSite/>L&rsquo;exemple d&rsquo;architecture</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>├── config.toml
</span></span><span class=line><span class=cl>└── content
</span></span><span class=line><span class=cl>    └── audits
</span></span><span class=line><span class=cl>         ├── projet1
</span></span><span class=line><span class=cl>         │     ├── index.md // Ajouter un entête avec le titre de la démarche
</span></span><span class=line><span class=cl>         │     └── accessibility
</span></span><span class=line><span class=cl>         │          ├── 2020-10-15.csv
</span></span><span class=line><span class=cl>         │          ├── 2020-11-15.csv
</span></span><span class=line><span class=cl>         │          └── context.yml // Déclarer le contexte de chaque audit
</span></span><span class=line><span class=cl>         └── projet2
</span></span><span class=line><span class=cl>                ├── index.md // Ajouter un entête avec le titre de la démarche
</span></span><span class=line><span class=cl>                └── accessibility
</span></span><span class=line><span class=cl>                    ├── 2020-10-15.csv
</span></span><span class=line><span class=cl>                    ├── 2020-10-15.csv
</span></span><span class=line><span class=cl>                    └── context.yml // Déclarer le contexte de chaque audit
</span></span></code></pre></div><h3 id=configuration>Configuration</h3><h4 id=ajouter-le-fichier--configtoml>Ajouter le fichier : <code>config.toml</code></h4><p>Télécharger le thème sur votre dépôt dans <code>themes</code>: <code>themes/frago</code>.</p><p>Note : Si vous le téléchargez, il ne sera pas synchronisé avec le dépôt GitHub, il faudra le mettre à jour à la main. Pour le mettre à jour, écraser le thème déjà présent est suffisant.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Mon administration&#34;</span> <span class=c># Ce qui s&#39;affiche sur le site.</span>
</span></span><span class=line><span class=cl><span class=nx>theme</span> <span class=p>=</span> <span class=s2>&#34;frago&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>organisation</span> <span class=p>=</span> <span class=s2>&#34;Le nom complet de mon administration&#34;</span> <span class=c># Utilisé dans la déclaration pour déclarer l’organisme</span>
</span></span></code></pre></div><h4 id=appeler-le-thème-hugo-pour-synchronisation-et-mise-à-jour-automatiques-avec-un-submodule>Appeler le thème Hugo pour synchronisation et mise à jour automatiques (avec un submodule)</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule add https://github.com/DISIC/frago.git/ themes/frago <span class=o>&amp;&amp;</span> git submodule update --init --recursive
</span></span></code></pre></div><h4 id=appeler-le-thème-hugo-pour-synchronisation-et-mise-à-jour-automatiques-avec-le-système-de-module-go>Appeler le thème Hugo pour synchronisation et mise à jour automatiques (avec le système de module <code>Go</code>)</h4><p>⚠️ - Le langage Go doit être installé sur le système. Existant sur MacOS, mais difficile à installer sur Windows sans les droits administrateurs.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>module</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>imports</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span> <span class=p>=</span> <span class=s2>&#34;github.com/disic/frago&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Mon administration&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>theme</span> <span class=p>=</span> <span class=s2>&#34;frago&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>organisation</span> <span class=p>=</span> <span class=s2>&#34;Le nom complet de mon administration&#34;</span>
</span></span></code></pre></div><h5 id=créer-le-fichier-gomod-commande-dans-le-terminal>Créer le fichier <code>go.mod</code> (commande dans le terminal)</h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo mod init github.com/disic/frago
</span></span></code></pre></div><p>Modifier le contenu du fichier <code>go.mod</code> (Ajouter https://) :
<code>module github.com/disic/frago => module https://github.com/disic/frago</code></p><h5 id=créer-le-fichier-gosum--commande-dans-le-terminal>Créer le fichier <code>go.sum</code> (commande dans le terminal)</h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo mod get
</span></span></code></pre></div><h4 id=génération-du-site-mise-en-ligne>Génération du site (mise en ligne)</h4><p>Ligne de commande pour lancer le serveur en local sur votre machine</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo serve
</span></span></code></pre></div><p>Ligne de commande pour construire les pages du site.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>HUGO_ENV</span><span class=o>=</span><span class=s2>&#34;production&#34;</span> hugo --buildFuture --gc --minify --cleanDestinationDir
</span></span></code></pre></div><ul><li><code>HUGO_ENV="production"</code> lance l&rsquo;environnement de production (sans les outils de dev, peut être lancé avec le mode serve).</li><li><code>--buildFuture</code> Publier des éléments avec une date future. Ex: <a href=#phases>phase</a> (optionnel) ou plan d’actions.</li><li><code>--gc</code> met à jour le cache de goHugo.</li><li><code>--cleanDestinationDir</code> nettoie le répertoire de génération du code (au cas où du code d’une précédente génération serait encore présent).</li><li><code>--minify</code> permet ¨de compresser le code <code>HTML</code> en ligne.</li></ul><h3 id=audits>Audits</h3><h4 id=accessibilité>Accessibilité</h4><p>Le thème interprète un fichier d’audit <code>csv</code> avec une structure fixe et imposée. Les intitulés de colonnes doivent respecter un nommage précis (Thématiques, Critères, Tests… puis le titre de chaque page).</p><p>Note : Le titre d’une page peut être suivi de l’URL de la page ; titre et URL séparés par le caractère <code>|</code>.</p><p><strong>Exemple d’un tableau avec uniquement la prise en compte des critères</strong></p><table><thead><tr><th style=text-align:center>Thématiques</th><th style=text-align:center>Critères</th><th style=text-align:center>Accueil।https://monsite.fr</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>1</td><td style=text-align:center>nc</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>2</td><td style=text-align:center>c</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>3</td><td style=text-align:center>na</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>4</td><td style=text-align:center>nt</td></tr><tr><td style=text-align:center>…</td><td style=text-align:center>…</td><td style=text-align:center>…</td></tr><tr><td style=text-align:center>13</td><td style=text-align:center>12</td><td style=text-align:center>nc</td></tr></tbody></table><p><strong>Liste des fichiers exemples à télécharger</strong></p><ul><li><a href=/exampleSite/exampleFiles/grille-criteres-rgaa.csv>Grille critères RGAA 4 vierge</a></li><li><a href=/exampleSite/exampleFiles/grille-tests-rgaa4.0.csv>Grille tests RGAA 4.0 vierge</a></li><li><a href=/exampleSite/exampleFiles/grille-tests-rgaa4.1.csv>Grille tests RGAA 4.1 vierge</a></li></ul><p><em>Dans chacun de ces fichiers figurent des numéros qui correspondent aux notions d’audit rapide (25 critères), complémentaire (50 critères), intermédiaire (81 critères).</em>
<em>Exemple, pour un audit rapide, ne traiter que les cellules avec le numéro <strong>25</strong>.</em></p><h2 id=configuration-détaillée>Configuration détaillée</h2><h4 id=configuration-1>Configuration</h4><p><em>Exemple de fichier de configuration : <code>config.toml</code></em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Mon administration&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>theme</span> <span class=p>=</span> <span class=s2>&#34;frago&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>organisation</span> <span class=p>=</span> <span class=s2>&#34;Le nom complet de mon administration&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>strategy</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>schema</span> <span class=p>=</span> <span class=s2>&#34;https://www.monadministration.gouv.fr/schema_pluriannuel_2020-2022.pdf&#34;</span> <span class=err>//</span> <span class=nx>Optionnel</span>
</span></span><span class=line><span class=cl>    <span class=nx>plan</span> <span class=p>=</span> <span class=s2>&#34;https://www.monadministration.gouv.fr/plan_annuel_2020.pdf&#34;</span> <span class=err>//</span> <span class=nx>Optionnel</span>
</span></span></code></pre></div><hr><h2 id=contenus>Contenus</h2><h3 id=accueil>Accueil</h3><p>La page d’accueil présente la liste de tous les projets existants dans <code>content/audits</code>.</p><p><img src=/images/accueil.png alt=Accueil></p><h3 id=projet>Projet</h3><p>La page de projet présente un aperçu de tous les audits de la démarche.</p><p><img src=/images/projets.png alt=Projets></p><h3 id=audit>Audit</h3><p>Les audits de <em>conformité</em> sont présents dans le répertoire <code>content/audits/nomdelademarche/accessibility/</code>.</p><p>L’audit d’<em>accompagnement</em> a pour but de lister tous les types d’erreurs afin de faire un suivi des éléments à corriger avec une équipe de développement. Il sera présent dans le répertoire <code>content/audits/nomdelademarche/quality/</code>.</p><h4 id=accessibilité-1>Accessibilité</h4><p>Éditer : <code>content/audits/nomdelademarche/accessibility/YYYY-MM-JJ.csv</code></p><p>L&rsquo;audit accessibilité est généré à partir d‘un <code>.csv</code> (fichier à plat). Les données relatives au test (optionnelles) peuvent être indiquées dans le fichier <code>content/audits/nomdelademarche/accessibility/context.yml</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>website</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;amendes.gouv.fr&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>contacts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>email</span><span class=p>:</span><span class=w> </span><span class=l>stap-amendes@dgfip.finances.gouv.fr</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>address </span><span class=p>:</span><span class=w> </span><span class=m>139</span><span class=w> </span><span class=l>rue de Bercy, 75572 Paris, Cedex 12</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>audits</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>2021-03-05</span><span class=p>:</span><span class=w> </span><span class=c># ⚠️ bien respecter la date de chaque fichier csv d’audit déjà présent dans `content/audits/nomdelademarche/accessibility/`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>guidelines</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;RGAA 4.1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Auto-évaluation&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>technologies</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;HTML&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;CSS&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;JS&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;PDF&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>tools</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;Wave&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;AXE&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;Web Developper&#34;</span><span class=p>,</span><span class=s2>&#34;Usability Hike&#34;</span><span class=p>,</span><span class=s2>&#34;Heading Maps&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>environment</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;MacOS&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;Firefox&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;Chrome&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;ChromeVox&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>2020-10-12</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>guidelines</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;RGAA 4.0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Auto-évaluation&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>technologies</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;HTML&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;CSS&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;JS&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;PDF&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>tools</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;Wave&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;AXE&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;Web Developper&#34;</span><span class=p>,</span><span class=s2>&#34;Usability Hike&#34;</span><span class=p>,</span><span class=s2>&#34;Heading Maps&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>environment</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;MacOS&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;Firefox&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;Chrome&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;ChromeVox&#34;</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></div><p><img src=/images/accessibilite.png alt=Accessibilite></p><h4 id=qualité>Qualité</h4><p>Affiche les données du fichier plus récent dans content/audits/nomdelademarche/quality/YYYY-MM-JJ.yml.</p><p>Le fichier de recommandation est fastidieux à remplir, mais permet de suivre des corrections de manière sereine avec une synthèse disponible sous format <code>HTML</code> et plus dans une <code>.doc</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>pages</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Global au site</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>blocks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Gabarit</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>errors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Adresse de navigation</span><span class=w> </span><span class=c># Titre de l’erreur</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>L’adresse de navigation ne change pas en fonction des pages.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Code invalide</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Le code comporte des erreurs quand on passe le validateur : https://validator.w3.org/.&#34;</span><span class=w> </span><span class=c># Description longue</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>criterion: 8.2, 8.4 # Critères RGAA concernées :</span><span class=p>:</span><span class=w> </span><span class=l>si erreur lié à un critère, l&#39;erreur sera reporté dans la déclaration générée</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>status: moindre # Criticité </span><span class=p>:</span><span class=w> </span><span class=l>critique, important, moindre</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span><span class=w> </span><span class=l>lot 1</span><span class=w> </span><span class=c># Possibilité de regrouper des erreurs dans les lots en haut de page (l&#39;intitulé du champ est libre)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Titre invalide</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Les titres (`&lt;title&gt;`) de page ne changent pas en fonction des pages et ne sont pas pertinents.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>criterion</span><span class=p>:</span><span class=w> </span><span class=m>8.6</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span><span class=w> </span><span class=l>lot 1</span><span class=w> </span><span class=c># Lot 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Hiérarchie des titres</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Il n’existe parfois aucun titre dans les pages. Passer certains titres (haut de page)`&lt;h3&gt;` en `&lt;h1&gt;` ou ajouter des `&lt;h1&gt;` à toutes les pages.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>criterion</span><span class=p>:</span><span class=w> </span><span class=m>9.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>status: important # Criticité </span><span class=p>:</span><span class=w> </span><span class=l>critique, important, moindre</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span><span class=w> </span><span class=l>lot 2</span><span class=w> </span><span class=c># Lot 2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Saisie de la déclaration</span><span class=w> </span><span class=c># Nom de la page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Formulaire</span><span class=w> </span><span class=c># Titre du bloc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>errors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Label</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/html/body/div[2]/div[2]/div/div/div/div/div/div[3]/table/tbody[1]/tr/td[3]/div/input</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Certains champs `input` n’ont pas de `label`.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Label + Input liés</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/html/body/div[2]/div[2]/div/div/div/div/div/div[5]/div/div/div/div/div[2]/div[6]/label</span><span class=w> </span><span class=c># Xpath</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Aucun champs `input` n&#39;est relié avec son `label` avec une attribut `for`.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span><span class=w> </span><span class=l>lot 3</span><span class=w> </span><span class=c># Lot 3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>status: critique # Criticité </span><span class=p>:</span><span class=w> </span><span class=l>critique, important, moindre</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>criterion</span><span class=p>:</span><span class=w> </span><span class=m>11.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>checked</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># Si l&#39;erreur est corrigée</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>codebefore</span><span class=p>:</span><span class=w> </span><span class=l>|-</span><span class=w> </span><span class=c># Code présent sur le site audité</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=l>&lt;div class=&#34;form-group&#34;&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>&lt;label class=&#34;col-md-2 control-label&#34;&gt;Année (AAAA) &lt;/label&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>&lt;div class=&#34;col-lg-1 col-md-2&#34;&gt;&lt;input type=&#34;text&#34; class=&#34;form-control&#34;&gt;&lt;/div&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=l>&lt;/div&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>codeafter</span><span class=p>:</span><span class=w> </span><span class=l>|-</span><span class=w> </span><span class=c># Proposition de code pour que le critère soit conforme</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=l>&lt;div class=&#34;form-group&#34;&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>&lt;label class=&#34;col-md-2 control-label&#34; for=&#34;year&#34;&gt;Année (AAAA) &lt;/label&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>&lt;div class=&#34;col-lg-1 col-md-2&#34;&gt;&lt;input type=&#34;text&#34; class=&#34;form-control&#34; id=&#34;year&#34;&gt;&lt;/div&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=l>&lt;/div&gt;</span><span class=w>
</span></span></span></code></pre></div><p><img src=/images/qualite.png alt=Qualité></p><h4 id=performance>Performance</h4><p>L’audit de performance apporte une complémentarité à l’audit d’accessibilité en listant de manière automatique des éléments à optimiser. Il peut être reproduit de manière régulière. Le dernier test vient surcharger les autres sur la page projet. Il n’existe pas encore de gabarits abouti d’analyse graphique dans le temps.</p><p>Note : Lancer un audit <code>Lighthouse</code> à ma même date qu’un audit accessibilité</p><p>Éditer : <code>content/audits/nomdelademarche/lighthouse/YYYY-MM-JJ.json</code></p><p><img src=/images/performance.png alt=Performance></p><h2 id=administration-système>Administration système</h2><h3 id=héberger>Héberger</h3><h5 id=héberger-avec-github>Héberger avec Github</h5><p>Consulter la page <a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/>Host on GitHub</a> pour plus d‘informations.</p><p>Github utilise son système interne GitHub Action. Un exemple de fichier de configuration est disponible : <a href=exampleSite/exampleFiles/.github/workflows/gh-pages.yml>gh-pages.yml</a>.</p><h5 id=héberger-avec-gitlab>Héberger avec Gitlab</h5><p>Consulter la page <a href=https://gohugo.io/hosting-and-deployment/hosting-on-gitlab/>Host on Gitlab</a> pour plus d‘informations</p><p>Github utilise son système interne Gitlab CI. Un exemple de fichier de configuration est disponible : <a href=exampleSite/exampleFiles/.gitlab-ci.yml>.gitlab-ci.yml</a>.</p><h3 id=utiliser-ce-module-comme-thème-dun-projet>Utiliser ce module comme thème d’un projet</h3><p>Site officiel :
<a href=https://gohugo.io/hugo-modules/use-modules/#use-a-module-for-a-theme>https://gohugo.io/hugo-modules/use-modules/#use-a-module-for-a-theme</a></p><ol><li><p>Initialiser votre projet pour utiliser les modules hugo :
<code>$ hugo mod init [MON_GESTIONNAIRE_DE_DEPOT]/[MON_COMPTE]/[MON_PROJET]</code>
par exemple :
<code>$ hugo mod init github.com/disic/frago</code></p></li><li><p>Importer ce module dans le fichier <code>config.toml</code>:</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>module</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>imports</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>path</span> <span class=p>=</span> <span class=s2>&#34;github.com/disic/frago&#34;</span>
</span></span></code></pre></div><ol start=3><li>C’est installé ?</li></ol><ul><li>En mode dev, lancer <code>hugo server</code>. Mais préférer : <code>HUGO_ENV=production hugo server --buildFuture</code>, pour le mode production.</li><li>Mettre à jour le thème, lancer: <code>hugo mod get -u github.com/disic/frago/</code> ou juste <code>hugo mod get -u</code>.</li><li>L’appel de thème n’est pas possible avec Netlify, il est nécessaire d’indiquer cette commande dans l’interface <code>git submodule add https://github.com/disic/frago.git/ themes/frago -f && git submodule update --init --recursive && hugo --gc --minify --buildFuture --templateMetrics</code></li></ul><h2 id=licence>Licence</h2><p>Le code source de ce dépôt est publié sous licence <a href=https://opensource.org/licenses/mit-license.php>MIT</a>.</p><p>La marque d’État est à usage exclusif des acteurs de la sphère étatique. En particulier, la typographie Marianne© est protégée par le droit d’auteur.
Lire <a href=https://www.gouvernement.fr/charte/charte-graphique-les-fondamentaux/la-typographie>les explications</a> sur le site de la marque d’État.</p><p>Le thème Frago utilise cette liste de bibliothèques :</p><ol><li>Frappe Charts (<a href=https://github.com/mermaid-js/mermaid/blob/develop/LICENSE>MIT</a>) : <a href=https://github.com/frappe/charts>https://github.com/frappe/charts</a> - <a href=https://github.com/frappe/charts>https://github.com/frappe/charts</a></li><li>Mermaid (<a href=https://github.com/mermaid-js/mermaid/blob/develop/LICENSE>MIT</a>) : <a href=https://github.com/mermaid-js/mermaid>https://github.com/mermaid-js/mermaid</a></li><li>Highlight.js (<a href=https://github.com/highlightjs/highlight.js/blob/main/LICENSE>MIT</a>) : <a href=https://github.com/highlightjs/highlight.js>https://github.com/highlightjs/highlight.js</a></li><li>simplelightbox (<a href=https://github.com/andreknieriem/simplelightbox/blob/master/LICENSE>MIT</a>) : <a href=https://github.com/andreknieriem/simplelightbox>https://github.com/andreknieriem/simplelightbox</a></li><li>Van11y accessible tabs panel system (<a href=https://github.com/nico3333fr/van11y-accessible-tab-panel-aria/blob/master/LICENSE>MIT</a>) : <a href=https://github.com/nico3333fr/van11y-accessible-tab-panel-aria>https://github.com/nico3333fr/van11y-accessible-tab-panel-aria</a></li><li>Checka11y.css (<a href=https://github.com/jackdomleo7/Checka11y.css/blob/master/LICENSE>MIT</a>) : <a href=https://github.com/jackdomleo7/Checka11y.css>https://github.com/jackdomleo7/Checka11y.css</a></li></ol><h2 id=auteur>Auteur</h2><p>2019-2020, Bertrand Keller pour la direction interministérielle du numérique.
2020-2021, Bertrand Keller pour le ministère de l’économie, des Finances et de la Relance.</p></div></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul><li class=zerostatic><a href=https://www.zerostatic.io>www.zerostatic.io</a></li></ul></div></div></div></div></div><script type=text/javascript src=/js/scripts.min.bafc052229b4b40bf03c477d31c5cdd9352ece8afbadf35ab97ed14495098fc9.js></script></body></html>